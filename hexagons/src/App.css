/* ===== App Shell ===== */
.app-shell {
  min-height: 100vh;
  position: relative;
  background: #05070c; /* true base black-blue */
  overflow: hidden;
}

.app-content {
  position: relative;
  z-index: 1;
}

/* ===== Background Layer ===== */
.app-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  /* Tuning knobs */
  --bg-sweep-hue: 160; /* 120=green, 160=teal, 200=cyan */
  --bg-sweep-alpha: 0.1; /* keep LOW: 0.02–0.07 */
  --bg-sweep-width: 14deg; /* wedge thickness */
  --bg-sweep-soft: 22deg; /* feather */
  --bg-sweep-speed: 20s; /* 80–180s recommended */

  --bg-ring-alpha: 0.06; /* rings visibility */
  --bg-grid-alpha: 0.02; /* grid visibility */
  --bg-vignette: 0.85; /* edge darkening */

  /* Base + subtle vignette */
  background: radial-gradient(
    1200px 900px at 50% 55%,
    rgba(255, 255, 255, 0.035),
    rgba(0, 0, 0, var(--bg-vignette)) 68%,
    rgba(0, 0, 0, 0.98) 100%
  );

  /* Helps keep the background “behind” your content */
  filter: saturate(0.9) contrast(1.05);
}

/* ===== Sweep (rotating conic wedge) ===== */
.app-bg::before {
  content: "";
  position: absolute;
  inset: -55%; /* oversize so rotation never clips */
  left: 50%;
  top: 52%;
  transform: translate(-50%, -50%);
  transform-origin: center;
  will-change: transform;

  /* Radar wedge (very soft) */
  background: conic-gradient(
    from 0deg,
    rgba(0, 0, 0, 0) 0deg,
    hsla(var(--bg-sweep-hue), 90%, 60%, 0) 300deg,
    hsla(var(--bg-sweep-hue), 90%, 60%, var(--bg-sweep-alpha)) 360deg
  );

  /* Feather the wedge edges */
  mask-image: radial-gradient(
    circle at center,
    rgba(0, 0, 0, 0.9) 0%,
    rgba(0, 0, 0, 0.7) 45%,
    rgba(0, 0, 0, 0.2) 70%,
    rgba(0, 0, 0, 0) 100%
  );

  opacity: 1;
  animation: radarSweep var(--bg-sweep-speed) linear infinite;
}

/* Make the wedge narrower/softer by layering a second conic gradient */
.app-bg::after {
  content: "";
  position: absolute;
  inset: 0;

  /* Rings + faint grid + extra depth */
  background:
    /* Rings */ radial-gradient(
      circle at 50% 52%,
      rgba(0, 0, 0, 0) 0%,
      rgba(0, 0, 0, 0) 18%,
      hsla(var(--bg-sweep-hue), 80%, 65%, var(--bg-ring-alpha)) 18.2%,
      rgba(0, 0, 0, 0) 18.6%,
      rgba(0, 0, 0, 0) 34%,
      hsla(var(--bg-sweep-hue), 80%, 65%, calc(var(--bg-ring-alpha) * 0.8))
        34.2%,
      rgba(0, 0, 0, 0) 34.6%,
      rgba(0, 0, 0, 0) 52%,
      hsla(var(--bg-sweep-hue), 80%, 65%, calc(var(--bg-ring-alpha) * 0.6))
        52.2%,
      rgba(0, 0, 0, 0) 52.6%,
      rgba(0, 0, 0, 0) 75%,
      hsla(var(--bg-sweep-hue), 80%, 65%, calc(var(--bg-ring-alpha) * 0.45))
        75.2%,
      rgba(0, 0, 0, 0) 75.6%
    ),
    /* Grid (subtle) */
      linear-gradient(
        rgba(255, 255, 255, var(--bg-grid-alpha)) 1px,
        transparent 1px
      ),
    linear-gradient(
      90deg,
      rgba(255, 255, 255, var(--bg-grid-alpha)) 1px,
      transparent 1px
    ),
    /* Extra vignette */
      radial-gradient(
        circle at 50% 52%,
        rgba(0, 0, 0, 0) 0%,
        rgba(0, 0, 0, 0.55) 70%,
        rgba(0, 0, 0, 0.92) 100%
      );

  background-size: auto, 90px 90px, 90px 90px, auto;

  background-position: center, 0 0, 0 0, center;

  opacity: 0.9;
}

/* Rotation */
@keyframes radarSweep {
  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .app-bg::before {
    animation: none;
    opacity: 0.35;
  }
}
